{"version":3,"sources":["uni-app:///main.js","webpack:///E:/water-app/water_environment/page2/pages/monitor/waterInspection.vue?8665","webpack:///E:/water-app/water_environment/page2/pages/monitor/waterInspection.vue?2816","webpack:///E:/water-app/water_environment/page2/pages/monitor/waterInspection.vue?4cdf","webpack:///E:/water-app/water_environment/page2/pages/monitor/waterInspection.vue?c24f","uni-app:///page2/pages/monitor/waterInspection.vue","webpack:///E:/water-app/water_environment/page2/pages/monitor/waterInspection.vue?e918","webpack:///E:/water-app/water_environment/page2/pages/monitor/waterInspection.vue?331a"],"names":["createPage","Page"],"mappings":"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","file":"page2/pages/monitor/waterInspection.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './page2/pages/monitor/waterInspection.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./waterInspection.vue?vue&type=template&id=378e7a7e&scoped=true&\"\nvar renderjs\nimport script from \"./waterInspection.vue?vue&type=script&lang=js&\"\nexport * from \"./waterInspection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./waterInspection.vue?vue&type=style&index=0&id=378e7a7e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"378e7a7e\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"page2/pages/monitor/waterInspection.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./waterInspection.vue?vue&type=template&id=378e7a7e&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./waterInspection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./waterInspection.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view  class=\"wrap\">\r\n\t\t<view  class=\"card\">\r\n\t\t\t<p class=\"name\"><em></em>巡检任务</p>\r\n\t\t\t<view class=\"desc\">\r\n\t\t\t\t<h3>标题：{{itemData.title}}</h3>\r\n\t\t\t\t<p >时间：{{itemData.patrol_time}}</p>\r\n\t\t\t\t<view  class=\"node\" v-for=\"item in nodeList\" :key=\"item.id\">\r\n\t\t\t\t\t<p>节点：{{item.name}}</p>\r\n\t\t\t\t\t<p>地址：{{item.position}}</p>\r\n\t\t\t\t\t<p>状态：<span :class=\"{active:item.status===1}\">{{item.status===1?'正在巡检':'完成巡检'}}</span></p>\r\n\t\t\t\t\t<p>\t经纬度：{{item.coordinate}}</p>\r\n\t\t\t\t\t<p v-if=\"item.distance>5\">当前距离：{{item.distance}}km</p>\r\n\t\t\t\t\t<p v-else>当前距离：{{item.distance*1000}}米</p>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view >\r\n\t\t<view class=\"content\">\r\n\t\t\t<template >\r\n\t\t\t\t<image class=\"img0\" src=\"/static/icon/scan.png\"></image>\r\n\t\t\t\t<p class=\"\">开始巡检后到指定巡检定点扫描二维码完成打卡</p>\r\n\t\t\t\t<view class=\"btn\" @click=\"chageStep(1)\" style=\"display: flex;align-items: center;justify-content: center\">\r\n\t\t\t\t\t<image style=\"height: 52rpx;width: 52rpx;margin-right: 20rpx;\" src=\"/static/icon/dwdk.png\"></image>\r\n\t\t\t\t\t<span v-if=\"isComplete\">巡检完成</span>\r\n\t\t\t\t\t<span v-else>巡检中</span>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t</view>\r\n\t</view >\r\n</template>\r\n\r\n<script>\r\n\timport amap from \"@/js_sdk/amap-wx.130\";\r\n\timport {getDetail} from \"@/utils/api/patrol\"\r\n\texport default {\r\n\t\tcomponents: {},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\titemData:{},\r\n\t\t\t\tcurrStep:0,\r\n\t\t\t\tdataList:[],\r\n\t\t\t\tqdList:[],\r\n\t\t\t\tlongitude:'',\r\n\t\t\t\tlatitude:'',\r\n\t\t\t\taddress:'',\r\n\t\t\t\tisComplete:false,\r\n\t\t\t\tid:'',\r\n\t\t\t\tnodeList :[],\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.id = this.$Route.query.id\r\n\t\t\tthis.initMap()\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\t// console.log('当前位置的经度：' + this.longitude);\r\n\t\t\t\t// console.log('当前位置的纬度：' + this.latitude);\r\n\t\t\t\tthis.getDetail({id:this.id})\r\n\t\t\t},300)\r\n\t\t},\r\n\t\tonShow(){\r\n\t\t\tconsole.log(this.id);\r\n\t\t\tsetInterval( ()=> {\r\n\t\t\t\tthis.initMap()\r\n\t\t\t\tthis.getDetail({id:this.id})\r\n\t\t\t}, 1000*60*10);\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinitMap(){\r\n\t\t\t\tthis.amapPlugin = new amap.AMapWX({\r\n\t\t\t\t\tkey: '2551140140c18eb5f8e656c64ce3280f' //该key 是在高德中申请的微信小程序key\r\n\t\t\t\t});\r\n\t\t\t\tthis.amapPlugin.getRegeo({\r\n\t\t\t\t\ttype: 'gcj02', //map 组件使用的经纬度是国测局坐标， type 为 gcj02\r\n\t\t\t\t\tsuccess: (res) =>{\r\n\t\t\t\t\t\t// console.log('map 组件使用的经纬度是国测局坐标， type 为 gcj02')\r\n\t\t\t\t\t\t// console.log(res[0])\r\n\t\t\t\t\t\tthis.longitude = res[0].longitude;\r\n\t\t\t\t\t\tthis.latitude = res[0].latitude;\r\n\t\t\t\t\t\tthis.mapInfo = res[0];\r\n\t\t\t\t\t\tconsole.log('当前位置的经度：' + this.longitude);\r\n\t\t\t\t\t\tconsole.log('当前位置的纬度：' + this.latitude);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\tconsole.log(JSON.stringify(res));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetDistance(la1, lo1, la2, lo2) {\r\n\t\t\t\tvar La1 = la1 * Math.PI / 180.0;\r\n\t\t\t\tvar La2 = la2 * Math.PI / 180.0;\r\n\t\t\t\tvar La3 = La1 - La2;\r\n\t\t\t\tvar Lb3 = lo1 * Math.PI / 180.0 - lo2 * Math.PI / 180.0;\r\n\t\t\t\tvar s = 2 * Math.asin(Math.sqrt(Math.pow(Math.sin(La3 / 2), 2) + Math.cos(La1) * Math.cos(La2) * Math.pow(Math.sin(Lb3 / 2), 2)));\r\n\t\t\t\ts = s * 6378.137;\r\n\t\t\t\ts = Math.round(s * 10000) / 10000;\r\n\t\t\t\ts = s.toFixed(2);\r\n\t\t\t\treturn s;\r\n\t\t\t},\r\n\t\t\tgetLocation(){\r\n\t\t\t\twx.getLocation({\r\n\t\t\t\t\ttype: 'wgs84',\r\n\t\t\t\t\tsuccess:  (res) =>{\r\n\t\t\t\t\t\tconsole.log('当前位置的经度：' + res.longitude);\r\n\t\t\t\t\t\tconsole.log('当前位置的纬度：' + res.latitude);\r\n\t\t\t\t\t\tthis.longitude = res.longitude; //经度\r\n\t\t\t\t\t\tthis.latitude = res.latitude; //纬度\r\n\t\t\t\t\t\tif(res.errMsg==='getLocation:ok'){\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '获取当前位置成功',\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, fail(err) {\r\n\t\t\t\t\t\tconsole.log('错误');\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\t// uni.chooseLocation({\r\n\t\t\t\t// \tsuccess: (res) =>{\r\n\t\t\t\t// \t\tconsole.log('位置名称：' + res.name);\r\n\t\t\t\t// \t\tconsole.log('详细地址：' + res.address);\r\n\t\t\t\t// \t\tconsole.log('纬度：' + res.latitude);\r\n\t\t\t\t// \t\tconsole.log('经度：' + res.longitude);\r\n\t\t\t\t// \t\tthis.address = res.address; //详细地址\r\n\t\t\t\t// \t\tthis.latitude = res.latitude; //纬度\r\n\t\t\t\t// \t\tthis.longitude = res.longitude; //经度\r\n\t\t\t\t// \t}\r\n\t\t\t\t// });\r\n\t\t\t},\r\n\t\t\tasync getDetail(params){\r\n\t\t\t\tlet res = await getDetail(params)\r\n\t\t\t\tif(res.errno === 0){\r\n\t\t\t\t\tthis.itemData = res.data\r\n\t\t\t\t\tthis.nodeList =res.data.node_list\r\n\t\t\t\t\t// let result= this.nodeList.every((item)=>{\r\n\t\t\t\t\t// \treturn item.status === 1\r\n\t\t\t\t\t// })\r\n\t\t\t\t\t// console.log(result);\r\n\t\t\t\t\tthis.nodeList.forEach((item,index)=>{\r\n\t\t\t\t\t\tlet lat2 =item.coordinate.split(',')[1]\r\n\t\t\t\t\t\tlet long2 =item.coordinate.split(',')[0]\r\n\t\t\t\t\t\tthis.longitude =113.444423\r\n\t\t\t\t\t\tthis.latitude =23.0777781\r\n\t\t\t\t\t\t// this.getDistance(this.latitude, this.longitude, lat2,long2)\r\n\t\t\t\t\t\tlet dis = this.getDistance(this.latitude, this.longitude, lat2,long2)\r\n\t\t\t\t\t\t// console.log(this.getDistance(this.latitude, this.longitude, lat2,long2));\r\n\t\t\t\t\t\tthis.$set(item,'distance',dis)\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\tif(item.distance<0.5){\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\t\t\tcontent: `已进入`+item.name+`打卡范围，确认现在打卡吗？`,\r\n\t\t\t\t\t\t\t\t\tsuccess:  (res)=> {\r\n\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '打卡成功',\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('用户点击取消');\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync getQdList(params){\r\n\t\t\t\tlet res = await getQdList(params)\r\n\t\t\t\tif(res.code === 0){\r\n\t\t\t\t\tthis.qdList= res.data\r\n\t\t\t\t\tlet result= this.qdList.every((i)=>{\r\n\t\t\t\t\t\treturn i.status ===1\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.isComplete = result\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tasync saomaQd(params){\r\n\t\t\t\tconsole.log(params);\r\n\t\t\t\tlet res = await saomaQd(params)\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tif(res.code === 0){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '签到成功',\r\n\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.getQdList({xjpb_id:this.itemData.xjpb_id})\r\n\t\t\t\t}else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:res.msg,\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tscanCode(item){\r\n\t\t\t\t// this.saomaQd({xjpb_id:this.itemData.xjpb_id,fc_id:item.fc_id,xjd_id:item.xj_id})\r\n\t\t\t\tuni.scanCode({\r\n\t\t\t\t\tonlyFromCamera: true,\r\n\t\t\t\t\tsuccess:  (res) =>{\r\n\t\t\t\t\t\tconsole.log('条码类型：' + res.scanType);\r\n\t\t\t\t\t\tconsole.log('条码内容：' + res.result);\r\n\t\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t\tthis.saomaQd({xjpb_id:this.itemData.xjpb_id,fc_id:item.fc_id,xjd_id:item.xj_id})\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '扫码失败',\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tchageStep(s){\r\n\t\t\t\tif(s===1){\r\n\t\t\t\t\tthis.currStep =1\r\n\t\t\t\t\t// this.addXunjian({xjpb_id:this.itemData.xjpb_id,longit:this.longitude,lati:this.latitude})\r\n\t\t\t\t}else if(s===2){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请完成所有签到后结束巡检',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgoBack(){\r\n\t\t\t\t// uni.navigateBack()\r\n\t\t\t\tthis.$Router.back()\r\n\t\t\t},\r\n\t\t\tasync addXunjian(params){\r\n\t\t\t\tlet res = await addXunjian(params)\r\n\t\t\t\tif(res.code === 0){\r\n\t\t\t\t\tconsole.log('添加巡检记录成功');\r\n\t\t\t\t}else {\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\topenBox(){\r\n\t\t\t\tthis.$refs.leftBox.open()\r\n\t\t\t},\r\n\t\t\tcloseMenu(){\r\n\t\t\t\tthis.$refs.leftBox.close()\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.wrap{\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #666666;\r\n\t\tline-height: 36rpx;\r\n\t\t.card{\r\n\t\t\tbackground:rgba(255,255,255,1);\r\n\t\t\tbox-shadow:0rpx 4rpx 12rpx 0rpx rgba(0,0,0,0.09);\r\n\t\t\tborder-radius:10rpx;\r\n\t\t\twidth:90%;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 30rpx;\r\n\t\t\tleft:5%;\r\n\t\t\tmargin-bottom: 50rpx;\r\n\t\t\tz-index: 10;\r\n\t\t\tfont-weight:500;\r\n\t\t\tcolor:rgba(51,51,51,1);\r\n\t\t\tpadding: 30rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\t.name{\r\n\t\t\t\tfont-size:36rpx;\r\n\t\t\t\tfont-family:PingFangSC-Semibold,PingFang SC;\r\n\t\t\t\tfont-weight:600;\r\n\t\t\t\tcolor:rgba(51,51,51,1);\r\n\t\t\t\tline-height:44rpx;\r\n\t\t\t\tmargin-bottom: 34rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tem{\r\n\t\t\t\t\twidth:14rpx;\r\n\t\t\t\t\theight:14rpx;\r\n\t\t\t\t\tbackground:#00D29C;\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\tmargin-right: 12rpx;\r\n\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.desc{\r\n\t\t\t\twidth:608rpx;\r\n\t\t\t\tmin-height:170rpx;\r\n\t\t\t\tbackground:rgba(248,248,248,1);\r\n\t\t\t\tborder-radius:10rpx;\r\n\t\t\t\tpadding: 16rpx 20rpx;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tline-height: 2;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tmax-height: 860rpx;\r\n\t\t\t\toverflow: auto;\r\n\t\t\t\t.node{\r\n\t\t\t\t\tborder-top: solid #dddddd 1px;\r\n\t\t\t\t\tpadding:10rpx 0;\r\n\t\t\t\t\t.active{\r\n\t\t\t\t\t\tcolor: #4cd964;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tspan{\r\n\t\t\t\t\t\tmargin-right: 40rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.content{\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tflex-direction: column;\r\n\t\t\tpadding-top: 450rpx;\r\n\t\t\tfont-size:28rpx;\r\n\t\t\tfont-family:PingFangSC-Regular,PingFang SC;\r\n\t\t\tfont-weight:400;\r\n\t\t\tcolor:rgba(113,129,157,1);\r\n\t\t\t.tip{\r\n\t\t\t\ttext-align: left;\r\n\t\t\t\tfont-size:28rpx;\r\n\t\t\t\tfont-weight:400;\r\n\t\t\t\tcolor:rgba(159,159,159,1);\r\n\t\t\t}\r\n\t\t\t.img{\r\n\t\t\t\tmargin-bottom: 34rpx;\r\n\t\t\t}\r\n\t\t\t.img0{\r\n\t\t\t\twidth: 250rpx;\r\n\t\t\t\theight:  250rpx;\r\n\t\t\t\tmargin-top: 120rpx;\r\n\t\t\t\tmargin-bottom: 34rpx;\r\n\r\n\t\t\t}\r\n\t\t\t.btn{\r\n\t\t\t\twidth:618rpx;\r\n\t\t\t\theight:100rpx;\r\n\t\t\t\tline-height:100rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tbackground:rgba(255,255,255,1);\r\n\t\t\t\tbox-shadow:0 8rpx 8rpx 0 rgba(7,19,63,0.19);\r\n\t\t\t\tborder-radius:16rpx;\r\n\t\t\t\tborder:3rpx solid rgba(1,16,76,1);\r\n\t\t\t\tfont-size:44rpx;\r\n\t\t\t\tfont-weight:500;\r\n\t\t\t\tcolor:rgba(1,16,76,1);\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 40rpx;\r\n\t\t\t}\r\n\t\t\t.xj-box{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: space-around;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tmargin: 62rpx 82rpx;\r\n\t\t\t\t.item{\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\t\t.name{\r\n\t\t\t\t\t\ttext-overflow: -o-ellipsis-lastline;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\tdisplay: -webkit-box;\r\n\t\t\t\t\t\t-webkit-line-clamp: 2;\r\n\t\t\t\t\t\tline-clamp: 2;\r\n\t\t\t\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t\t\t\twidth: 150rpx;\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\theight: 70rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.img{\r\n\t\t\t\t\t\twidth: 100rpx;\r\n\t\t\t\t\t\theight: 100rpx;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.active{\r\n\t\t\t\t\t\tcolor: #A8FFAF;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./waterInspection.vue?vue&type=style&index=0&id=378e7a7e&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.3.3.20190923.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./waterInspection.vue?vue&type=style&index=0&id=378e7a7e&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1612512325894\n      var cssReload = require(\"D:/HBuilderX.2.3.3.20190923.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}